{"version":3,"sources":["part2/PhonebookFilter.js","part2/PhonebookForm.js","part2/PhonebookPersons.js","part2/services/phonebook.js","part2/PhonebookMessage.js","part2/Phonebook.js","reportWebVitals.js","index.js"],"names":["PhonebookFilter","value","handler","onChange","PhonebookForm","props","onSubmit","submit","name","handleName","number","handleNumber","type","PhonebookPersons","persons","exclude","map","e","onClick","id","baseUrl","a","axios","get","then","response","data","newPerson","post","person","put","delete","phonebookService","getAll","save","remove","update","PhonebookMessage","message","text","style","fontSize","color","padding","borderStyle","borderRadius","marginBottom","background","styleError","error","App","React","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","setMessage","auxSubmit","isNew","result","concat","status","setTimeout","handleSubmit","preventDefault","personIndex","findIndex","window","confirm","updatedPerson","filteredPersons","toUpperCase","includes","target","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.da1f36f9.chunk.js","sourcesContent":["import * as React from 'react';\n\nexport default function PhonebookFilter({ value, handler }) {\n    return (\n        <div>\n            filter shown with <input value={value} onChange={handler}></input>\n        </div>\n    )\n}\n\n","import * as React from 'react';\n\nexport default function PhonebookForm(props) {\n    return (\n        <form onSubmit={props.submit}>\n            <div>\n                name: <input value={props.name} onChange={props.handleName} />\n            </div>\n            <div>\n                number: <input value={props.number} onChange={props.handleNumber} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}","import * as React from 'react';\n\nexport default function PhonebookPersons({ persons, exclude }) {\n    return (\n        <div>\n            {\n                persons.map(e =>\n                    <div key={e.id}>\n                        {e.name} - {e.number} -\n                    <button onClick={() => exclude(e.id)}>delete</button>\n                    </div>\n                )\n            }\n        </div>\n    )\n}","import axios from 'axios'\n\nconst baseUrl = '/api/persons';\n\nasync function getAll() {\n    return axios.get(baseUrl)\n        .then(response => response.data);\n}\n\nasync function save(newPerson) {\n    return axios.post(baseUrl, newPerson)\n        .then(response => response.data);\n}\n\nasync function update(person) {\n    return axios.put(`${baseUrl}/${person.id}`, person)\n        .then(response => response.data);\n}\n\nasync function remove(id) {\n    return axios.delete(`${baseUrl}/${id}`)\n        .then(response => response.data);\n}\n\nexport const phonebookService = { getAll, save, remove, update }","import React from 'react'\n\nfunction PhonebookMessage({ message }) {\n    if (message.text === null)\n        return null;\n\n    const style = {\n        fontSize: 20,\n        color: 'green',\n        padding: 10,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        marginBottom: 10,\n        background: 'lightgray'\n    }\n\n    const styleError = {\n        ...style,\n        color: 'red'\n    }\n\n    return (\n        <div style={message.error ? styleError : style}>\n            {message.text}\n        </div>\n    )\n}\n\nexport default PhonebookMessage;","import * as React from 'react';\nimport PhonebookFilter from './PhonebookFilter';\nimport PhonebookForm from './PhonebookForm';\nimport PhonebookPersons from './PhonebookPersons';\nimport { phonebookService } from './services/phonebook';\nimport PhonebookMessage from './PhonebookMessage'\n\nfunction App(props) {\n    const [persons, setPersons] = React.useState([]);\n    const [newName, setNewName] = React.useState('');\n    const [newNumber, setNewNumber] = React.useState('');\n    const [filter, setFilter] = React.useState('');\n    const [message, setMessage] = React.useState({ text: null, error: false });\n\n    const handleChangeName = e => setNewName(e.target.value);\n    const handleChangeNumber = e => setNewNumber(e.target.value);\n    const handleFilter = e => setFilter(e.target.value);\n    const excludePerson = id => {\n        phonebookService.remove(id);\n        setPersons(persons.filter(e => e.id !== id));\n    }\n\n    async function auxSubmit(person, isNew) {\n        let result = null;\n\n        if (isNew) {\n            result = await phonebookService.save(person);\n            result = persons.concat(result);\n            setMessage({ text: `Added ${person.name}`, error: false });\n        }\n        else {\n            result = persons.filter(e => e.id !== person.id);\n\n            try {\n                result = await phonebookService.update(person);\n                result = result.concat(result);\n                setMessage(`Updated ${person.name}`);\n            }\n            catch (error) {\n                if (error.response.status === 404)\n                    setMessage({\n                        text: `Information of ${person.name} has already ` +\n                            `been removed from server`,\n                        error: true\n                    });\n\n            }\n        }\n\n        setNewName('');\n        setNewNumber('');\n        setTimeout(() => setMessage({ text: null, error: false }), 5000);\n\n        return result;\n    }\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const personIndex = persons.findIndex(e => e.name === newName);\n\n        if (personIndex === -1) {\n            const newPerson = {\n                name: newName,\n                number: newNumber\n            }\n\n            setPersons(await auxSubmit(newPerson, true));\n        }\n        else {\n            const isToAdd = window.confirm(\n                `${newName} is already added to phonebook. ` +\n                `Replace the old number with a new one?`\n            );\n\n            if (isToAdd) {\n                const updatedPerson = { ...persons[personIndex], number: newNumber };\n\n                setPersons(await auxSubmit(updatedPerson, false));\n            }\n        }\n    }\n\n    const filteredPersons = persons.filter(e => {\n        return e.name.toUpperCase().includes(filter.toUpperCase());\n    });\n\n    React.useEffect(() => {\n        phonebookService.getAll()\n            .then(response => setPersons(response));\n    }, []);\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <PhonebookMessage message={message} />\n            <PhonebookFilter value={filter} handler={handleFilter} />\n            <h2>Add a new</h2>\n            <PhonebookForm submit={handleSubmit} name={newName}\n                handleName={handleChangeName} number={newNumber} handleNumber={handleChangeNumber} />\n            <h2>Numbers</h2>\n            <PhonebookPersons persons={filteredPersons} exclude={excludePerson} />\n        </div>\n    )\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import App from './App';\n//import App from './part1/exercise';\n//import App from './part1/content';\n//import App from './part1/unicafe';\n//import App from './part1/anecdotes';\n//import App from './part2/exercise';\nimport App from './part2/Phonebook';\n//import App from './part2/Countries';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}